# ç²¾å°½ Jenkins é¢è¯•é¢˜ï¼ˆBetaï¼‰

ä»¥ä¸‹é¢è¯•é¢˜ï¼ŒåŸºäºç½‘ç»œæ•´ç†ï¼Œå’Œè‡ªå·±ç¼–è¾‘ã€‚å…·ä½“å‚è€ƒçš„æ–‡ç« ï¼Œä¼šåœ¨æ–‡æœ«ç»™å‡ºæ‰€æœ‰çš„é“¾æ¥ã€‚

å¦‚æœèƒ–å‹æœ‰è‡ªå·±çš„ç–‘é—®ï¼Œæ¬¢è¿åœ¨æ˜Ÿçƒæé—®ï¼Œæˆ‘ä»¬ä¸€èµ·æ•´ç†åŠåŠçš„ Jenkins é¢è¯•é¢˜çš„å¤§ä¿å¥ã€‚

è€Œé¢˜ç›®çš„éš¾åº¦ï¼Œè‰¿è‰¿å°½é‡æŒ‰ç…§ä»å®¹æ˜“åˆ°å›°éš¾çš„é¡ºåºï¼Œé€æ­¥ä¸‹å»ã€‚

> è‰¿è‰¿ï¼šå®é™…ä¸Šï¼Œé¢è¯•ä¸­åŸºæœ¬ä¸ä¼šé—® Jenkins ã€‚å› ä¸ºï¼Œä¹Ÿæ²¡å•¥å¥½é—®çš„ã€‚æ‰€ä»¥ï¼Œæœ¬æ–‡èƒ–å‹å¯ä»¥ä½œä¸ºå•¥å‘¢ï¼Ÿæˆ‘ä¹Ÿä¸é€ ï¼Œå°±å½“ç®€å•è¿‡è¿‡ä¸€äº›çŸ¥è¯†ç‚¹å§ã€‚

## æŒç»­é›†æˆæ˜¯ä»€ä¹ˆï¼Ÿ

æŒç»­é›†æˆï¼Œæºäºæé™ç¼–ç¨‹(XP)ï¼Œæ˜¯ä¸€ç§è½¯ä»¶å®è·µï¼Œè½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­é›†æˆæ­¥éª¤æ˜¯ä¸€ä¸ªæ¼«é•¿å¹¶ä¸”æ— æ³•é¢„æµ‹çš„è¿‡ç¨‹ã€‚é›†æˆè¿‡ç¨‹ä¸­å¯èƒ½ä¼šçˆ†å‘å¤§é‡çš„é—®é¢˜ï¼Œå› æ­¤é›†æˆè¿‡ç¨‹éœ€è¦å°½å¯èƒ½å°è€Œå¤šï¼Œå®é™…ä¸ŠæŒç»­é›†æˆè®²çš„æ˜¯ä¸æ–­çš„å»åšè½¯ä»¶çš„é›†æˆå·¥ä½œã€‚

ğŸ¦… **æŒç»­é›†æˆæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ**

- åœºæ™¯ä¸€ã€æŸé¡¹ç›®æœ€ååšæ¨¡å—é›†æˆçš„æ—¶å€™ï¼Œå‘ç°å¾ˆå¤šæ¥å£éƒ½ä¸é€šï¼Œç”šè‡³æœ‰çš„æ¨¡å—è¿å®‰è£…åŒ…éƒ½æ²¡æœ‰ã€‚
- åœºæ™¯äºŒã€æ²¡æœ‰å¯ç”¨çš„è½¯ä»¶åŒ…ï¼Œéœ€è¦äººæ‰‹åŠ¨å»ç¼–è¯‘æ‰“åŒ…æœ€æ–°çš„ä»£ç ã€‚
- åœºæ™¯ä¸‰ã€æ­å»ºæµ‹è¯•ç¯å¢ƒçš„æ—¶å€™ï¼Œéœ€è¦æ‰‹åŠ¨å»è§£å‹åŒ…ï¼Œç„¶åä¸€ç³»åˆ—æ‹·è´ä¿®æ”¹é…ç½®ç­‰ç­‰ã€‚
- åœºæ™¯å››ã€å›¢é˜Ÿæˆå‘˜æˆ–è€… teamleader æƒ³äº†è§£å½“å‰é¡¹ç›®çš„çŠ¶æ€ï¼Œè¯¥å¦‚ä½•å»å±•ç¤ºè¿™äº›ä¿¡æ¯ã€‚

æŒç»­é›†æˆå°±æ˜¯ç”¨æ¥è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œå®ƒçš„ä»·å€¼ä¸»è¦åœ¨äºå‡å°‘é‡å¤çš„æ­¥éª¤ï¼Œé™ä½é¡¹ç›®çš„é£é™©ï¼Œä»»ä½•æ—¶é—´ä»»ä½•åœ°ç‚¹ç”Ÿæˆå¯ç”¨çš„è½¯ä»¶ï¼Œå¢å¼ºé¡¹ç›®çš„å¯è§æ€§ç­‰ã€‚

![é›†æˆç»“æ„ç»„æˆå›¾](http://static.iocoder.cn/ed38bed0711e35a59a5f1cb605ea667a)

> è‰¿è‰¿ï¼šèƒ–å‹ï¼Œæœ‰æ²¡å‘ç°å‰åç«¯åˆ†ç¦»ä¹‹åï¼Œé›†æˆè¶Šæ¥è¶Šæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œç‰¹åˆ«æ˜¯é¡¹ç›®è¶Šåˆ°åæœŸï¼Œè¶Šå¤šé—®é¢˜ã€‚å°½æ—©é›†æˆï¼Œå³ä½¿å‰æœŸè¿›åº¦å¯èƒ½ä¼šç•¥æœ‰æ»åï¼Œå¤§å®¶éœ€è¦ç»å¸¸åŠ ç­ã€‚ä½†æ˜¯å‘¢ï¼Œå‰ç´§åæ¾ï¼Œä¸€å®šèƒ½è®©é¡¹ç›®æ›´åŠ å¯æ§ã€‚

ğŸ¦… **æŒç»­é›†æˆæ€ä¹ˆåšï¼Ÿ**

æŒç»­é›†æˆï¼Œæœ€ç®€å•çš„å½¢å¼æ˜¯åŒ…æ‹¬ä¸€ä¸ªç›‘æ§ç‰ˆæœ¬æ§åˆ¶ï¼ˆSVNã€Git ç­‰ç­‰ï¼‰å˜åŒ–çš„å·¥å…·ã€‚å½“å˜åŒ–è¢«å‘è§‰æ—¶ï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥è‡ªåŠ¨çš„ç¼–è¯‘å¹¶æµ‹è¯•ä½ çš„åº”ç”¨ã€‚

å½“ç„¶ï¼Œç›®å‰æ›´å¤šçš„æ˜¯ï¼Œä½¿ç”¨ Jenkins æ¥å®ç°æŒç»­é›†æˆã€‚

> è‰¿è‰¿ï¼šæˆ‘è®°å¾—æˆ‘ 11 å¹´å·¥ä½œçš„æ—¶å€™ï¼Œå…¬å¸å†…éƒ¨åšäº†ä¸€ä¸ªç®€å•çš„å‘å¸ƒç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿä¼šå‘Šè¯‰æˆ‘ä»¬å“ªäº›ç±»å‘ç”Ÿäº†å˜åŒ–ï¼Œç„¶åæˆ‘ä»¬é€‰æ‹©å“ªå‡ ä¸ªç±»éœ€è¦å‘å¸ƒåˆ°æµ‹è¯•æˆ–ç”Ÿäº§ç¯å¢ƒä¸Šã€‚ğŸ˜ˆ å®åœ¨ç®€é™‹ï¼Œè€Œä¸”å¸¸å¸¸ä¼šå°‘å‘ï¼Œç—›è‹¦ä¸å ªã€‚æ„Ÿè°¢ Jenkins ï¼Œå˜¿å˜¿ã€‚

ğŸ¦… **æŒç»­é›†æˆæœ‰å“ªäº›è‰¯å¥½çš„å®è·µï¼Ÿ**

- ç»´æŠ¤ä¸€ä¸ªå•ä¸€çš„ä»£ç åº“

- ä½¿æ„å»ºè‡ªåŠ¨åŒ–

- ä½¿æ„å»ºè‡ªæµ‹è¯•

  > è‡ªæµ‹è¯•ï¼Œç›¸å¯¹æ¥è¯´éš¾è½åœ°ï¼Œä¸»è¦åŸå› ï¼š
  >
  > - å¤§å¤šæ•°å…¬å¸ï¼Œå¼€å‘å¾ˆå°‘å†™å•å…ƒæµ‹è¯•ã€‚
  > - å¤§å¤šæ•°å…¬å¸ï¼Œæ²¡æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•å·¥ç¨‹å¸ˆã€‚

- æ¯äººæ¯å¤©éƒ½å‘ä¸»çº¿æäº¤ä»£ç 

  > å› ä¸ºé‡‡ç”¨ GitFlow å·¥ä½œæµï¼Œæ‰€ä»¥ä¸èƒ½å‘ master åˆ†æ”¯æäº¤ä»£ç ï¼Œæ›´å¤šçš„æ˜¯ï¼Œå‘ä¸»ä»“åº“å¯¹åº”çš„åŠŸèƒ½åˆ†æ”¯æäº¤ã€‚
  >
  > å¦‚æœçœŸçš„è¦å‘ master æäº¤ï¼Œéœ€è¦é…åˆ [ç‰¹æ€§å¼€å…³](https://www.jianshu.com/p/304697cdb440) ã€‚

- æ¯æ¬¡æäº¤éƒ½åº”åœ¨é›†æˆæœºä¸Šè¿›è¡Œæ„å»º

- å¿«é€Ÿæ„å»º

- ä½¿ä»»ä½•äººéƒ½èƒ½è½»æ˜“è·å¾—å¯æ‰§è¡Œæ–‡ä»¶

- äººäººéƒ½èƒ½çœ‹åˆ°æ­£åœ¨å‘ç”Ÿä»€ä¹ˆ

- è‡ªåŠ¨åŒ–éƒ¨ç½²

## ç®€å•ä»‹ç» Jenkins æ˜¯ä»€ä¹ˆï¼Ÿ

- æŒç»­é›†æˆæ˜¯ä¸€ç§å®è·µï¼Œè€Œ Jenkins å¯ä»¥å¸®åŠ©å›¢é˜Ÿå»å°½é‡å¥½çš„å»å®Œæˆè¿™ç§å®è·µã€‚

  > å³ï¼ŒJenkins æ˜¯ä¸€ä¸ªæŒç»­é›†æˆçš„å·¥å…·ã€‚

- Jenkins æ˜¯åŸºäº Java è¯­è¨€çš„å¼€æºæŒç»­é›†æˆå·¥å…·ï¼Œæä¾›äº†ä¸€å¥—éå¸¸æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢ï¼Œç”¨ä»¥è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ç­‰åŠŸèƒ½ã€‚

- Jenkins ç±»ä¼¼äº Eclipse ï¼ŒåŸºäºæ’ä»¶åŒ–çš„æ¶æ„ï¼Œæ–¹ä¾¿åŠŸèƒ½çš„æ‰©å±•ï¼Œç›®å‰æœ‰å‡ ç™¾ä¸ªç°æˆæ’ä»¶å¯ä»¥ä½¿ç”¨ï¼Œè¿™äº›æ’ä»¶æ¶µç›–ä»ç‰ˆæœ¬æ§åˆ¶ã€æ„å»ºå·¥å…·ã€ä»£ç è´¨é‡ã€æ„å»ºé€šçŸ¥ã€é›†æˆå¤–éƒ¨ç³»ç»Ÿã€UIå®šåˆ¶ã€æ¸¸æˆç­‰ç­‰å„ä¸ªæ–¹é¢ã€‚

  > ğŸ˜ˆ åªè¦æ˜¯ä¸ªå·¥å…·ï¼ŒåŸºæœ¬æ˜¯**æ’ä»¶åŒ–**çš„æ¶æ„ã€‚

> å†å²å°æ•…äº‹ï¼š
>
> ä¼´éšç€ Jenkins ï¼Œæœ‰æ—¶äººä»¬è¿˜å¯èƒ½çœ‹åˆ°å®ƒä¸ Hudson å…³è”ã€‚Hudson æ˜¯ç”± Sun Microsystems å¼€å‘çš„ä¸€ä¸ªéå¸¸æµè¡Œçš„å¼€æºï¼ŒåŸºäº Java çš„æŒç»­é›†æˆå·¥å…·ï¼Œåæ¥è¢« Oracle æ”¶è´­ã€‚Sun è¢« Oracle æ”¶è´­ä¹‹åï¼Œä¸€ä¸ªä» Hudson æºä»£ç çš„åˆ†æ”¯ç”± Jenkins åˆ›å»ºå‡ºå°ã€‚

## Jenkins ä½ éƒ½ç”¨äº†å“ªäº›æ’ä»¶ï¼Ÿ

- æœ€å¸¸ç”¨
  - [SSH Plugin](https://blog.csdn.net/taiyangdao/article/details/70163225) ï¼šè¿™ä¸ªå¯ä»¥ç™»é™†è¿œç¨‹æœåŠ¡å™¨ï¼Œç„¶ååœ¨ä¸Šé¢æ‰§è¡Œè„šæœ¬ã€‚
  - [Role Strategy Plugin](https://blog.csdn.net/wanglei_storage/article/details/78339409) ï¼šç”¨æ¥ç²¾ç»†åŒ–ç®¡ç†æƒé™ï¼ŒåŸºäºè§’è‰²ç»´åº¦ã€‚
  - [Git plugin](https://wiki.jenkins.io/display/JENKINS/Git+Plugin) ï¼šå¯¹ Git çš„æ”¯æŒã€‚
  - [SCM](https://blog.csdn.net/itfootball/article/details/45061093) ï¼šé™¤ CVS å’Œ Subversion å¤–ï¼Œéœ€è¦å®ç°ä¸æºä»£ç æ§åˆ¶ç³»ç»Ÿæ”¯æŒçš„æ’ä»¶ã€‚
- æ ¹æ®æƒ…å†µ
  - Triggers ï¼šäº‹ä»¶ç›‘å¬å¹¶è§¦å‘æ„å»ºçš„æ’ä»¶ã€‚ä¾‹å¦‚ï¼ŒURL æ”¹å˜è§¦å‘å™¨å°†ç›‘æ§ä¸€ä¸ª URL ï¼Œå½“åœ°å€å†…å®¹å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªè§¦å‘å™¨å°±å°†æ‰§è¡Œä¸€æ¬¡ä½œä¸šã€‚
  - Build tools ï¼šå®ç°é¢å¤–æ„å»ºå·¥å…·çš„æ’ä»¶ï¼Œå¦‚ MSBuild å’Œ Rake ã€‚å¦‚æœæ‚¨æƒ³åœ¨ Hudson ä¸­æ„å»ºé Java çš„è½¯ä»¶æ—¶è¿™äº›å°±ç‰¹åˆ«æœ‰ç”¨ã€‚
  - Build wrappers ï¼šé€šå¸¸æ¶‰åŠæ—¶æ‰§è¡Œåœ¨å—æ§åˆ¶çš„æ„å»ºè¿‡ç¨‹æœ¬èº«ä¹‹å‰å’Œä¹‹åäº‹ä»¶çš„æ’ä»¶ã€‚ä¾‹å¦‚ï¼ŒVMware æ’ä»¶å°†åœ¨æ„å»ºä¹‹å‰å¯åŠ¨ä¸€ä¸ªå®¢æˆ·è™šæ‹Ÿæœºï¼Œå»ºç«‹å’Œç„¶ååœ¨æ„å»ºå®Œæˆåå…³é—­å®ƒã€‚è¿™åœ¨æ‚¨å¯èƒ½éœ€è¦è®¿é—® VM ä»¥æ‰§è¡Œå•å…ƒæµ‹è¯•çš„æƒ…å†µä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚

## Jenkins å¦‚ä½•å®ç°å‘å¸ƒå’Œå›æ»šï¼Ÿ

- å‘å¸ƒï¼šJenkins é…ç½®å¥½ä»£ç è·¯å¾„(SVN æˆ– Git)ï¼Œç„¶åæ‹‰ä»£ç ï¼Œæ‰“tag ã€‚éœ€è¦ç¼–è¯‘å°±ç¼–è¯‘ï¼Œç¼–è¯‘ä¹‹åæ¨é€åˆ°å‘å¸ƒæœåŠ¡å™¨ï¼ˆJenkins é‡Œé¢å¯ä»¥è°ƒè„šæœ¬ï¼‰ï¼Œç„¶åä»åˆ†å‘æœåŠ¡å™¨å¾€ä¸‹åˆ†å‘åˆ°ä¸šåŠ¡æœåŠ¡å™¨ä¸Šã€‚

- å›æ»šï¼šæŒ‰ç…§ç‰ˆæœ¬å·åˆ°å‘å¸ƒæœåŠ¡å™¨æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬æ¨é€ã€‚

  > ä¸€å®šè¦æ‰“ Tag å™¢ï¼Œä¸ç„¶å›æ»šä¼šæ¯”è¾ƒéº»çƒ¦ã€‚

## Jenkins æ€ä¹ˆåšå¤‡ä»½ä¸æ¢å¤ï¼Ÿ

ç›®å‰æœ‰ä¸‰ç§æ–¹å¼ï¼š

- 1ã€ä½¿ç”¨æ’ä»¶å¤‡ä»½ã€‚

  > ä¾‹å¦‚ ThinBackup æ’ä»¶ã€‚

- 2ã€ä½¿ç”¨ Rsync å¼‚åœ°å¤‡ä»½ã€‚

- 3ã€ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶å·¥å…·è¿›è¡Œå¤‡ä»½ã€‚

å…·ä½“çš„ï¼Œå¯ä»¥å‚è€ƒæ–‡ç«  [ã€ŠJenkins ç³»åˆ—ï¼š ï¼ˆäº”ï¼‰ Jenkins æ•°æ®å¤‡ä»½ä¸æ¢å¤ã€‹](https://blog.csdn.net/huaqiangli/article/details/79201831) ã€‚

ç›¸å¯¹æ¥è¯´ï¼Œæ¯”è¾ƒæ¨èä½¿ç”¨ ThinBackup æ’ä»¶ï¼Œç®€å•æ–¹ä¾¿ï¼Œèƒ½å¤Ÿæ»¡è¶³éœ€æ±‚ã€‚

## Jenkins å¦‚ä½•åˆ é™¤å†å²æ„å»ºæ•°æ®ï¼Ÿ

ç›®å‰æ¥è¯´ï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼š

- 1ã€æ‰‹å·¥åˆ é™¤æ„å»ºè®°å½•ã€‚
- 2ã€è½¬ç§»ç£ç›˜ç©ºé—´ã€‚
- 3ã€è‡ªåŠ¨ä¸¢å¼ƒæ„å»ºå†å²æ•°æ®ã€‚

å…·ä½“çš„ï¼Œå¯ä»¥å‚è€ƒæ–‡ç«  [ã€ŠJenkins æœåŠ¡å™¨ç£ç›˜ç©ºé—´ç®¡ç†ç­–ç•¥ã€‹](https://blog.csdn.net/lantian08251/article/details/41380483) ã€‚

å¦‚æœè¯´ï¼Œæˆ‘ä»¬å¸Œæœ›å¤šä¿æŒä¸€äº›æ„å»ºå†å²æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®è¾ƒå¤§çš„â€œå‘å¸ƒåŒ…æœ€å¤§ä¿ç•™â€ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦æä¾›ç›¸å¯¹å¤§çš„ç£ç›˜ç©ºé—´ã€‚å½“ç„¶ï¼Œå³ä½¿å†å¤§çš„ç£ç›˜ç©ºé—´ï¼Œä¹Ÿå¯èƒ½è¢«æ’‘çˆ†ï¼Œæ‰€ä»¥å‡ºé—®é¢˜æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹å·¥åˆ é™¤æ„å»ºè®°å½•ã€‚ä¹Ÿå°±ä¼šè¯´ï¼Œä¸‰ç§æ–¹å¼ï¼Œä¸€èµ·é…åˆã€‚

å¦å¤–ï¼ŒJenkins çš„æ—¥å¿—æ–‡ä»¶ä¹ŸæŒºå ç”¨å†…å­˜ä½ çš„ï¼Œå¯ä»¥å‚è€ƒ [ã€ŠLinux ä¸­ Jenkins æ—¥å¿—è®°å½•å æ»¡ç£ç›˜é—®é¢˜ã€‹](https://www.itbox.info/p/1490170/jenkins-log-auto-del-dev-vda1-use-max-depth-lsof) æ–‡ç« ï¼Œè¿›è¡Œå¤„ç†ã€‚

## å½©è›‹

å‘ç°ï¼ŒçœŸçš„æ²¡ä»€ä¹ˆå¥½å†™çš„ã€‚å½“ç„¶ï¼Œå¦‚æœæ²¡æœ‰è‡ªå·±é…ç½®è¿‡ Jenkins çš„èƒ–å‹ï¼Œå»ºè®®å°è¯•è‡ªå·±æ­å»ºä¸€æ¬¡ï¼Œç„¶åè‡³å°‘éƒ¨ç½²å‡ ä¸ª Spring Boot çš„é¡¹ç›®ï¼Œå†ç„¶åï¼Œæ€è€ƒä¸‹éœ€è¦åˆ’åˆ†å‡ å¥—ç¯å¢ƒï¼Œæ¯å¥—ç¯å¢ƒçš„å®šä¹‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼š

```
Feature ç¯å¢ƒ => æµ‹è¯•ç¯å¢ƒ => é¢„å‘å¸ƒç¯å¢ƒ => ç”Ÿäº§ç¯å¢ƒ
```

å‚è€ƒä¸æ¨èå¦‚ä¸‹æ–‡ç« ï¼š

- [ã€ŠJenkins é¢è¯•é¢˜ã€‹](https://www.cnblogs.com/luoahong/articles/8313870.html)
- [ã€ŠæŒç»­é›†æˆä»¥åŠ Jenkins çš„çŸ¥è¯†ä»‹ç»ã€‹](https://www.cnblogs.com/tsbc/p/4882485.html)
- [ã€Šå¦‚ä½•åœ¨ CentOS ä¸‹å®‰è£…éƒ¨ç½² Jenkins æŒç»­é›†æˆç¯å¢ƒã€‹](https://idc.wanyunshuju.com/li/573.html)